# 章节分割工具

这个工具可以将TXT文本文件按"第N章"的标记分割成多个独立的TXT文件，同时按书籍组织到不同的文件夹中。

## 功能

1. 导入一个TXT文件作为源文件
2. 自动读取源文件内容，识别"第N章"格式的章节标记（N为数字）
3. 在源文件所在目录生成多个新的TXT文件，每个文件对应一个章节
4. 新生成的TXT文件保持原文件的字体、格式和换行等内容
5. 自动检测文件编码（支持UTF-8、GBK、GB2312、BIG5等常见中文编码）
6. **文件夹分组功能**：当遇到"第1章"时，会创建新的序号文件夹（001、002、003...），后续章节会保存到该文件夹中
7. **统一编码输出**：所有生成的TXT文件均使用UTF-8编码，方便跨平台使用

## 文件夹分组说明

工具会自动识别文本中的书籍分界点：
- 每当遇到"第1章"时，会创建一个新的编号文件夹（001、002、003...）
- 同一本书的所有章节会放在同一个文件夹中
- 下一本书的章节（从下一个"第1章"开始）会放到新的编号文件夹中
- 如果源文件开始部分不是"第1章"，程序也会为这些章节创建第一个编号文件夹

## 编码处理说明

- 程序会自动检测源文件的编码（支持UTF-8、GBK、GB2312、BIG5等常见中文编码）
- 无论源文件是什么编码，所有生成的TXT文件均会使用UTF-8编码
- 这样处理可以确保输出文件具有良好的跨平台兼容性
- 如果您需要其他编码格式，可以在使用后通过其他工具转换

## 使用方法

### 推荐：使用批处理文件运行（Windows系统）

1. 双击`run_chapter_splitter.bat`文件直接运行程序
2. 点击"浏览..."按钮选择源TXT文件
3. 点击"分割章节"按钮执行分割操作
4. 程序会在源文件所在目录生成分割后的章节文件和分组文件夹

### 直接运行Python脚本

1. 在命令行中使用`python chapter_splitter.py`命令运行脚本
2. 点击"浏览..."按钮选择源TXT文件
3. 点击"分割章节"按钮执行分割操作
4. 程序会在源文件所在目录生成分割后的章节文件和分组文件夹

### 构建为可执行文件

1. 双击`run_executable_builder.bat`文件启动构建过程
   或者在命令行中运行`python build_executable.py`
2. 脚本会自动安装PyInstaller（如果尚未安装）
3. 构建完成后，可执行文件将保存在`dist`目录中
4. 运行生成的`章节分割工具.exe`即可使用

## 要求

- Python 3.6+
- 标准库模块（无需额外安装）
- 构建可执行文件需要PyInstaller（构建脚本会自动安装）

## 常见问题

1. **双击Python脚本文件无法运行**
   - 使用批处理文件`run_chapter_splitter.bat`来运行
   - 或者构建为可执行文件后运行

2. **文件编码问题**
   - 程序会自动尝试检测源文件编码，支持常见的中文编码格式
   - 所有输出文件均为UTF-8编码，如需其他编码可在后期转换

3. **找不到章节**
   - 确保文本中包含"第N章"格式的标记，其中N为数字
   - 例如："第1章"、"第10章 标题"等

4. **文件夹分组问题**
   - 确保每本书都是从"第1章"开始的
   - 如果一本书没有"第1章"，可能会被归到上一本书的文件夹中

## 注意事项

- 源文件必须是文本文件（.txt格式）
- 章节标记必须是"第N章"格式（其中N是数字）
- 分割后的文件将按书籍组织到编号文件夹中（001、002、003...）
- 所有输出文件均使用UTF-8编码，不受源文件编码影响 